package com.aixohub.algotrader.service.rule;

import com.aixohub.algotrader.service.rule.TradingStrategyContext;
import com.aixohub.algotrader.service.rule.TrendFollowingStrategy;
import com.aixohub.algotrader.service.rule.MeanReversionStrategy;

rule "Switch to Trend Following Strategy"
when
    // 定义切换条件，例如市场波动率 > 某个阈值
    $volatility : Double() > 0.05
then
    // 切换到趋势跟随策略
    TradingStrategyContext context = (TradingStrategyContext) drools.getGlobal("strategyContext");
    context.setStrategy(new TrendFollowingStrategy());
    System.out.println("Switched to Trend Following Strategy");
end

rule "Switch to Mean Reversion Strategy"
when
    // 定义切换条件，例如市场波动率 <= 某个阈值
    $volatility : Double() <= 0.05
then
    // 切换到均值回归策略
    TradingStrategyContext context = (TradingStrategyContext) drools.getGlobal("strategyContext");
    context.setStrategy(new MeanReversionStrategy());
    System.out.println("Switched to Mean Reversion Strategy");
end